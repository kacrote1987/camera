<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>科研项目详细</title>
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <link rel="stylesheet" href="../../layuiadmin/layui/css/layui.css" media="all">
  <link rel="stylesheet" href="../../layuiadmin/style/admin.css" media="all">
</head>
<body>
<div class="layui-fluid">
  <div class="layui-card">
    <div class="layui-card-body">
      <div class="layui-row layui-col-space12">
        <div class="layui-col-md3">
        </div>
        <div class="layui-col-md6">
          <div class="layui-card">
            <div class="layui-card-body">
              <table class="layui-table">
                <colgroup>
                  <col width="10">
                  <col width="100">
                  <col width="100">
                  <col width="100">
                  <col width="100">
                  <col width="100">
                </colgroup>
                <thead>
                <tr>
                  <th>序号</th>
                  <th>经费支出科目</th>
                  <th>预算金额</th>
                  <th>实际支出(读取OA)</th>
                  <th>当前结余(自动计算)</th>
                  <th>计算根据及理由</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                  <td>1</td>
                  <td>设备费</td>
                  <td><input type="text" id="scienCost1" lay-verify="required" placeholder="" autocomplete="off" class="layui-input"></td>
                  <td><input type="text" id="scienCost1oa" lay-verify="required" placeholder="" autocomplete="off" class="layui-input" readonly></td>
                  <td><input type="text" id="scienCost1surp" lay-verify="required" placeholder="" autocomplete="off" class="layui-input" readonly></td>
                  <td><input type="text" id="scienCost1remk" lay-verify="required" placeholder="" autocomplete="off" class="layui-input"></td>
                </tr>
                <tr>
                  <td>2</td>
                  <td>材料费</td>
                  <td><input type="text" id="scienCost2" lay-verify="required" placeholder="" autocomplete="off" class="layui-input"></td>
                  <td><input type="text" id="scienCost2oa" lay-verify="required" placeholder="" autocomplete="off" class="layui-input" readonly></td>
                  <td><input type="text" id="scienCost2surp" lay-verify="required" placeholder="" autocomplete="off" class="layui-input" readonly></td>
                  <td><input type="text" id="scienCost2remk" lay-verify="required" placeholder="" autocomplete="off" class="layui-input"></td>
                </tr>
                <tr>
                  <td>3</td>
                  <td>测试化验加工费</td>
                  <td><input type="text" id="scienCost3" lay-verify="required" placeholder="" autocomplete="off" class="layui-input"></td>
                  <td><input type="text" id="scienCost3oa" lay-verify="required" placeholder="" autocomplete="off" class="layui-input" readonly></td>
                  <td><input type="text" id="scienCost3surp" lay-verify="required" placeholder="" autocomplete="off" class="layui-input" readonly></td>
                  <td><input type="text" id="scienCost3remk" lay-verify="required" placeholder="" autocomplete="off" class="layui-input"></td>
                </tr>
                <tr>
                  <td>4</td>
                  <td>会议/差旅费</td>
                  <td><input type="text" id="scienCost4" lay-verify="required" placeholder="" autocomplete="off" class="layui-input"></td>
                  <td><input type="text" id="scienCost4oa" lay-verify="required" placeholder="" autocomplete="off" class="layui-input" readonly></td>
                  <td><input type="text" id="scienCost4surp" lay-verify="required" placeholder="" autocomplete="off" class="layui-input" readonly></td>
                  <td><input type="text" id="scienCost4remk" lay-verify="required" placeholder="" autocomplete="off" class="layui-input"></td>
                </tr>
                <tr>
                  <td>5</td>
                  <td>出版/文献/信息传播/知识产权事务费</td>
                  <td><input type="text" id="scienCost5" lay-verify="required" placeholder="" autocomplete="off" class="layui-input"></td>
                  <td><input type="text" id="scienCost5oa" lay-verify="required" placeholder="" autocomplete="off" class="layui-input" readonly></td>
                  <td><input type="text" id="scienCost5surp" lay-verify="required" placeholder="" autocomplete="off" class="layui-input" readonly></td>
                  <td><input type="text" id="scienCost5remk" lay-verify="required" placeholder="" autocomplete="off" class="layui-input"></td>
                </tr>
                <tr>
                  <td>6</td>
                  <td>劳务费</td>
                  <td><input type="text" id="scienCost6" lay-verify="required" placeholder="" autocomplete="off" class="layui-input"></td>
                  <td><input type="text" id="scienCost6oa" lay-verify="required" placeholder="" autocomplete="off" class="layui-input" readonly></td>
                  <td><input type="text" id="scienCost6surp" lay-verify="required" placeholder="" autocomplete="off" class="layui-input" readonly></td>
                  <td><input type="text" id="scienCost6remk" lay-verify="required" placeholder="" autocomplete="off" class="layui-input"></td>
                </tr>
                <tr>
                  <td>7</td>
                  <td>专家咨询费</td>
                  <td><input type="text" id="scienCost7" lay-verify="required" placeholder="" autocomplete="off" class="layui-input"></td>
                  <td><input type="text" id="scienCost7oa" lay-verify="required" placeholder="" autocomplete="off" class="layui-input" readonly></td>
                  <td><input type="text" id="scienCost7surp" lay-verify="required" placeholder="" autocomplete="off" class="layui-input" readonly></td>
                  <td><input type="text" id="scienCost7remk" lay-verify="required" placeholder="" autocomplete="off" class="layui-input"></td>
                </tr>
                <tr>
                  <td>8</td>
                  <td>其它费用</td>
                  <td><input type="text" id="scienCost8" lay-verify="required" placeholder="" autocomplete="off" class="layui-input"></td>
                  <td><input type="text" id="scienCost8oa" lay-verify="required" placeholder="" autocomplete="off" class="layui-input" readonly></td>
                  <td><input type="text" id="scienCost8surp" lay-verify="required" placeholder="" autocomplete="off" class="layui-input" readonly></td>
                  <td><input type="text" id="scienCost8remk" lay-verify="required" placeholder="" autocomplete="off" class="layui-input"></td>
                </tr>
                </tbody>
              </table>
              <tr>
                <p>注：</p>
                <p>1. 设备费：在项目实施过程中购置或试制专用仪器设备，对现有仪器设备进行升级改造，以及租赁外单位仪器设备而发生的费用。要严格控制设备购置费支出。</p>
                <p>2. 材料费：在项目（课题）实施过程中消耗的各种原材料、辅助材料、低值易耗品等的采购及运输、装卸、整理等费用。</p>
                <p>3. 测试化验加工费：在项目实施过程中支付给外单位（包括承担单位内部独立经济核算单位）的检验、测试、化验及加工等费用。</p>
                <p>4. 会议/差旅费：召开学术研讨、咨询以及协调等发生的会议费用。开展科学实验、科学考察、调研、学术交流等所发生的外埠差旅费、市内交通费用等。</p>
                <p>5. 出版/文献/信息传播/知识产权事务费：在项目实施过程中，需要支付的出版费、资料费、专用软件购买费、文献检索费、查新费、专业通信费、专利申请及其他知识产权事务等费用。</p>
                <p>6. 劳务费： 在项目实施过程中支付给参与项目的研究生、博士后、访问学者以及项目聘用的研究人员、科研辅助人员等的劳务性费用。</p>
                <p>7. 专家咨询费：在项目实施过程中支付给临时聘请的咨询专家的费用。</p>
                <p>8. 其它费用：用于项目管理等经费支出。</p>
              </tr>
            </div>
          </div>
        </div>
        <div class="layui-col-md3">
        </div>
      </div>
    </div>
  </div>
</div>
<div class="layui-form-item layui-layout-admin">
  <div class="layui-input-block">
    <div class="layui-footer" style="left: 0;">
      <button class="layui-btn" lay-submit="submit" lay-filter="component-form-demo1" onclick="save()">保存</button>
    </div>
  </div>
</div>

<script src="http://apps.bdimg.com/libs/jquery/2.0.0/jquery.min.js"></script>
<script src="http://apps.bdimg.com/libs/bootstrap/3.3.0/js/bootstrap.min.js"></script>
<script src="${pageContext.request.contextPath}/resources/script/login.js"></script>
<script src="../../js/demo.js"></script>
<script src="../../layuiadmin/layui/layui.js"></script>
<script>
  layui.config({
    base: '../../layuiadmin/' //静态资源所在路径
  }).extend({
    index: 'lib/index' //主入口模块
  }).use(['index', 'form', 'table'], function(){
    var $ = layui.$
            ,admin = layui.admin
            ,element = layui.element
            ,form = layui.form
            ,table = layui.table;

    form.render(null, 'component-form-group');

    var scienId=window.location.search.substring(1,window.location.search.length);
    $.ajax({
      type:"post",
      url:"/scien/costdet",
      contentType:"application/json;charset=utf-8",
      dataType:"json",
      data:scienId,
      success:function(detObj){
        if(detObj.msg=="sucess"){
          var detJson=detObj.data[0];
          $('#scienCost1').val(detJson.scienCost1);
          $('#scienCost1surp').val(detJson.scienCost1-0);
          $('#scienCost1remk').val(detJson.scienCost1remk);
          $('#scienCost2').val(detJson.scienCost2);
          $('#scienCost2surp').val(detJson.scienCost2-0);
          $('#scienCost2remk').val(detJson.scienCost2remk);
          $('#scienCost3').val(detJson.scienCost3);
          $('#scienCost3surp').val(detJson.scienCost3-0);
          $('#scienCost3remk').val(detJson.scienCost3remk);
          $('#scienCost4').val(detJson.scienCost4);
          $('#scienCost4surp').val(detJson.scienCost4-0);
          $('#scienCost4remk').val(detJson.scienCost4remk);
          $('#scienCost5').val(detJson.scienCost5);
          $('#scienCost5surp').val(detJson.scienCost5-0);
          $('#scienCost5remk').val(detJson.scienCost5remk);
          $('#scienCost6').val(detJson.scienCost6);
          $('#scienCost6surp').val(detJson.scienCost6-0);
          $('#scienCost6remk').val(detJson.scienCost6remk);
          $('#scienCost7').val(detJson.scienCost7);
          $('#scienCost7surp').val(detJson.scienCost7-0);
          $('#scienCost7remk').val(detJson.scienCost7remk);
          $('#scienCost8').val(detJson.scienCost8);
          $('#scienCost8surp').val(detJson.scienCost8-0);
          $('#scienCost8remk').val(detJson.scienCost8remk);
          layui.form.render();
        }
      }
    });
  });

  function save(){
    var params={};
    params.scienId=window.location.search.substring(1,window.location.search.length);
    params.scienCost1=$('#scienCost1').val();
    params.scienCost1remk=$('#scienCost1remk').val();
    params.scienCost2=$('#scienCost2').val();
    params.scienCost2remk=$('#scienCost2remk').val();
    params.scienCost3=$('#scienCost3').val();
    params.scienCost3remk=$('#scienCost3remk').val();
    params.scienCost4=$('#scienCost4').val();
    params.scienCost4remk=$('#scienCost4remk').val();
    params.scienCost5=$('#scienCost5').val();
    params.scienCost5remk=$('#scienCost5remk').val();
    params.scienCost6=$('#scienCost6').val();
    params.scienCost6remk=$('#scienCost6remk').val();
    params.scienCost7=$('#scienCost7').val();
    params.scienCost7remk=$('#scienCost7remk').val();
    params.scienCost8=$('#scienCost8').val();
    params.scienCost8remk=$('#scienCost8remk').val();
    postdata(params,"/scien/costsave",function () {layer.msg("保存成功！");});
  }
</script>
</body>
</html>